<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Zen Sunset</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <style type="text/css">

        html { background-color: #9be3fe; }
        body { margin:0; text-align: center }

        .gradient { content: ""; height: 100%; width: 100%; position: fixed; z-index: -6; }
        .gradient.one { background-image: linear-gradient(to bottom, #9be3fe 0%, #ffffff 100%);}
        .gradient.two { background-image: linear-gradient(to bottom, #29c5ff 0%, #e2630f 100%); opacity: 0;}
        #sun{
            border: 0px solid transparent;
            margin: 0 auto;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: #ffffff;
            outline: none;
        }

    </style>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript" src="jquery.ui.touch-punch.min.js"></script>
</head>
<body>

<div class="gradient one"></div>
<div class="gradient two"></div>
<div id="sun"></div>

<script>
    $( function() {
        $( "#sun" ).draggable({
            drag: function( event, ui ) {
                let windowH = $(window).height();
                let intensity = parseInt((ui.position.top/windowH)*100);
                console.log(intensity);
                $('.gradient.two').css({'opacity': intensity/100})
            },
            start: function( event, ui ) {
                clearInterval(timer);
                timer = null;
                let windowH = $(window).height();
                let intensity = parseInt((ui.position.top/windowH)*100);
                $('.gradient.two').css({'opacity': intensity/100})
            },
            stop: function( event, ui ) {
                clearInterval(timer);
                timer = null;
                timerloop(ui.position.top)
            }
        });
        timerloop()

    } );

    let timer = null;


    function timerloop(point) {
        let pos = (point)?point:0;
        timer = setInterval(function () {
            $('#sun').css({'top': pos})
            let windowH = $(window).height();
            let intensity = parseInt((pos/windowH)*100) + 10;
            console.log(intensity/100)
            $('.gradient.two').css({'opacity': intensity/100})
            pos = pos + 1;
            if(pos >= $(window).height()-100){
                clearInterval(timer);
                timer = null;
                timerloop()
            }
        }, 10);
    }

</script>

</body>
</html>